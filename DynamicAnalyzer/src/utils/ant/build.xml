<?xml version="1.0"?>
  <project name="Compile to Jar" default="build-jar">
   
  <property name="mainClass" value ="ImplicitFlow2"/>

  <path id="master-classpath">
     <pathelement path="."/>
  </path>
  <pathconvert property="mm" refid="master-classpath"/>

  <target name="build-jar">
    <jar destfile="../../../sootOutput/ant/${mainClass}.jar" basedir=".">

        <manifest>
         <attribute name="Main-Class" value="main/testclasses/${mainClass}"/>
        </manifest>
    	
    	<fileset dir="../../../sootOutput">
    	   <include name="main/testclasses/${mainClass}.class"/>	
    	</fileset>
    	
    	<fileset dir="../../../bin">
    		<include name="analyzer/**"/>	
    	</fileset>	
    	
    	<fileset dir="../../../bin">
    	    <include name="utils/**"/>	
    	</fileset>
    	
    	<zipgroupfileset dir="../../../../../DEPS" includes="gradualconstraints_instrumentationsupport_2.11-0.1-SNAPSHOT.jar">
    	   	<include name="de/**"/>	
    	</zipgroupfileset>	
    	
    	<zipgroupfileset dir="../../../../../DEPS/commons-collections4-4.0" includes="commons-collections4-4.0.jar">
    	   <include name="org/**"/>
    	</zipgroupfileset>

     </jar>
  </target>
</project>